<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:component="http://java.sun.com/jsf/composite/component"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:debug />
<ui:remove>
	<!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/

     version: $Id: cas.xhtml 24039 2016-07-28 06:44:21Z anatom $
     -->
</ui:remove>

<ui:composition template="/WEB-INF/include/template.xhtml">
	<ui:define name="content">
		<h:panelGroup layout="block" class="header" id="title">
			<h1>
				<h:outputText value="#{msg.preferences_page_title}" />
			</h1>
		</h:panelGroup>
		<script>
            var messageshowmore = '#{msg.preferences_details_show}';
            var messagehidemore = '#{msg.preferences_details_hide}';
		</script>

		<h:form id="preferencesForm" styleClass="pure-form pure-form-aligned">
			<h:panelGroup layout="block" id="preferenceContentBody"
				styleClass="content-body">

 				<h:panelGroup layout="block" styleClass="internal-frame">
					<h:panelGroup layout="block" styleClass="pure-control-group">

						<h:outputLabel for="selectPreferedLanguage"
							value="#{msg.preferences_page_language_select}" />
						<h:selectOneMenu id="selectPreferedLanguage"
							styleClass="jsAutoFocusLast" var="currentLocale"
							value="#{raPreferencesBean.currentLocale}"
							disabled="#{raPreferencesBean.locales.size()==1}">
							<f:selectItems value="#{raPreferencesBean.locales}"
								var="supportedLocale"
								itemLabel="#{supportedLocale.getDisplayLanguage(supportedLocale)}" />
							<f:converter converterId="localeConverter" />
						</h:selectOneMenu>
						<h:commandButton
							onclick="ejbca.ra.toggleDetails(this, messageshowmore, messagehidemore);"
							id="expandRequestLang" value="#{msg.preferences_details_hide}"
							type="button" styleClass="toggleMoreButton" />
					</h:panelGroup>
					<h:panelGroup id="expandRequestLangDetails" layout="block"
						style="display: block" styleClass="pure-control-group">
						<h:outputText value="#{msg.preferences_page_language_info}" />
					</h:panelGroup>
					<script>ejbca.ra.toggleDetails(document.getElementById('preferencesForm:expandRequestLang'), messageshowmore, messagehidemore);</script>
				</h:panelGroup> 


  				<h:panelGroup layout="block" styleClass="internal-frame">
						<h:panelGroup layout="block" styleClass="pure-control-group">
							<h:outputLabel for="selectPreferedTheme"
								value="#{msg.preferences_page_theme_select}" />

							<h:selectOneMenu id="selectPreferedTheme"
								styleClass="jsAutoFocusLast" var="currentTheme"
								value="#{raPreferencesBean.currentStyle}"
								disabled="#{raPreferencesBean.styles.size()==0}">

								<f:selectItems value="#{raPreferencesBean.styles}" var="theme"
									itemLabel="#{theme.getArchiveName()}" />
 								<f:converter binding="#{raPreferencesBean}" />
							</h:selectOneMenu>
							<h:commandButton
								onclick="ejbca.ra.toggleDetails(this, messageshowmore, messagehidemore);"
								id="expandRequestTheme" value="#{msg.preferences_details_hide}"
								type="button" styleClass="toggleMoreButton" />
						</h:panelGroup>
						<h:panelGroup id="expandRequestThemeDetails" layout="block"
							style="display: block" styleClass="pure-control-group">
							<h:outputText value="#{msg.preferences_page_theme_info}" />
						</h:panelGroup>

						<script>ejbca.ra.toggleDetails(document.getElementById('preferencesForm:expandRequestTheme'), messageshowmore, messagehidemore);</script>
				</h:panelGroup> 


				<h:panelGroup layout="block" id="navigationButtonGroup"
					styleClass="navigation-button-group">

					<h:commandButton id="resetButton" value="#{msg.generic_cancel}"
						styleClass="pure-button ra-button" immediate="true"
						action="#{raPreferencesBean.reset}"> 
					</h:commandButton>

					<h:commandButton id="applyButton" value="#{msg.generic_apply}"
						styleClass="pure-button ra-button"
						action="#{raPreferencesBean.updatePreferences()}" /> 

				</h:panelGroup>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>

