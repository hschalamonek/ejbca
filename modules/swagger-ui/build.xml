<?xml version="1.0" encoding="UTF-8"?>
<project name="swagger-ui" default="build">
    <description>
            Build files for the EJBCA swagger-ui module
    </description>

	<dirname property="this.dir" file="${ant.file.swagger-ui}"/>
	<import file="${this.dir}/../build.xml"/>

	<property name="build.dir" location="${this.dir}/build"/>
	
	<path id="compile.classpath">
		<path refid="lib.ejbca-common-web.classpath"/>
		<path refid="lib.bouncycastle.classpath"/>
		<path refid="lib.log4j.classpath"/>
		<path refid="lib.servlet.classpath"/>
		<path refid="lib.jsf.classpath"/>
		<path refid="lib.jsp.classpath"/>
		<path refid="lib.commons-lang.classpath"/>
		<path refid="lib.commons-fileupload.classpath"/>
		<path refid="lib.commons-config.classpath"/>
		<path refid="lib.commons-collections.classpath"/>
		<path refid="lib.commons-io.classpath"/>
		<path refid="lib.commons-codec.classpath"/>
		<path refid="lib.commons-logging.classpath"/>
        <path refid="lib.hc.classpath"/>
		<path refid="lib.jee.classpath"/>
		<path refid="lib.tomahawk.classpath"/>
		<path refid="lib.json-simple.classpath"/>
        <path refid="lib.json-smart.classpath"/>
        <path refid="lib.ninbus-jose-jwt.classpath"/>
		<path refid="lib.ldap.classpath"/>
		<path refid="lib.swagger.classpath"/>
		<path refid="lib.jackson2.classpath"/>
		<path location="${mod.ejbca-entity.lib}"/>
        <path location="${mod.cesecore-entity.lib}"/>
        <path location="${mod.cesecore-common.lib}"/>
        <path location="${mod.cesecore-ejb-interface.lib}"/>
		<path location="${mod.ejbca-ws.lib}"/>
	</path>



    <target name="clean" description="Clean up this module">
		<delete dir="${build.dir}"/>
    	<delete file="${mod.swagger-ui.war}"/>
    </target>

    <target name="build" description="Build this module">
    	<copy file="${this.dir}/resources/WEB-INF/web.xml" tofile="${build.dir}/WEB-INF/web.xml"/>
    	<copy todir="${build.dir}/swagger-ui-dist">
    		<fileset dir="${this.dir}/swagger-ui-dist"/>
    	</copy>
        <war destfile="${mod.swagger-ui.war}" webxml="${build.dir}/WEB-INF/web.xml" basedir="${build.dir}"/>
    </target>

	<target name="setup">
		<mkdir dir="${build.dir}/WEB-INF/classes"/>
	</target>
</project>
